# Berachain Reward Allocation Optimizer Configuration
# =====================================================
# Copy this file to config.yaml and fill in your details:
#   cp config.yaml.example config.yaml

validator:
  # Your validator pubkey (required)
  pubkey: "0xYOUR_VALIDATOR_PUBKEY_HERE"

  # Path to file containing private key (required for execution)
  private_key_file: "/path/to/your/private_key.txt"

  # Staking pool address (leave empty for genesis validators)
  # For staking pool validators, set this to your pool contract address
  # Example: staking_pool_address: "0x1234567890abcdef..."
  staking_pool_address: ""

  # RPC endpoint
  rpc_url: "https://rpc.berachain-apis.com"

contracts:
  # BeraChef contract address (from https://docs.berachain.com/developers/contracts/berachef)
  berachef_address: "0xdf960E8F3F19C481dDE769edEDD439ea1a63426a"

strategy:
  # Maximum number of vaults to allocate to (4-10)
  # BeraChef requires minimum 4 (for 30% cap) and maximum 10
  # Lower = more concentrated in top vaults = higher efficiency
  max_vaults: 4

  # Allocation mode: "greedy" or "proportional"
  #
  # "greedy" (recommended for max returns):
  #   Allocates 30% to each top vault until budget exhausted
  #   Result: 30/30/30/10 for 4 vaults - maximizes concentration
  #
  # "proportional":
  #   Weights allocation by relative USD/BGT efficiency
  #   Uses efficiency_threshold to filter candidates first
  #   Better for risk distribution across more vaults
  allocation_mode: "greedy"

  # For proportional mode only: include vaults within this % of best
  # 0.85 = include vaults with at least 85% of top vault's usdPerBgt
  # Ignored in greedy mode
  efficiency_threshold: 0.85

filters:
  # Minimum TVL in USD (0 = no minimum)
  # Set higher for more established vaults
  min_tvl_usd: 0

  # Minimum incentive runway in hours
  # Should be > your rotation frequency (e.g., 3h if rotating every 2h)
  min_incentive_runway_hours: 3

  # Minimum USD per BGT efficiency (0 = just require incentives exist)
  min_usd_per_bgt: 0

  # Protocols to exclude (case-insensitive)
  exclude_protocols: []
  # Example:
  # exclude_protocols:
  #   - "SomeSketchyProtocol"

  # Vault addresses to exclude (lowercase)
  exclude_vaults: []
  # Example:
  # exclude_vaults:
  #   - "0x1234..."

limits:
  # Maximum allocation to a single vault (basis points)
  # BeraChef enforces 30% max, so don't change this
  max_single_vault_pct: 3000

  # Maximum allocation to a single protocol (basis points)
  # Only applies in proportional mode
  max_protocol_pct: 5000

execution:
  # If true, show what would be done without executing
  dry_run: false

  # Extra blocks to add to start_block for safety margin
  block_buffer: 100

  # Minimum change in basis points to trigger an update
  # If allocation changes by less than this, skip the update
  # 500 = 5% change required
  min_change_threshold: 500

api:
  # Number of retries for API requests
  max_retries: 3

  # Delay between retries (uses exponential backoff)
  retry_delay_seconds: 5

  # Request timeout
  timeout_seconds: 30

healthchecks:
  # Enable healthchecks.io integration for cron monitoring
  enabled: false

  # Your healthchecks.io check UUID
  # Get this from https://healthchecks.io after creating a check
  id: ""
  # Example:
  # id: "5ca499c2-1cd4-4c5c-8eb3-c25e92093b5d"
